<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 820 1120" font-family="Inter, -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif">
  <defs>
    <filter id="shadow" x="-2%" y="-2%" width="104%" height="104%">
      <feDropShadow dx="0" dy="1" stdDeviation="2" flood-opacity="0.08"/>
    </filter>
    <marker id="arrowhead" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto">
      <polygon points="0 0, 8 3, 0 6" fill="#6c757d"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="820" height="1120" fill="#ffffff" rx="8"/>

  <!-- ===== CLIENT ===== -->
  <rect x="220" y="20" width="380" height="48" rx="8" fill="#f8f9fa" stroke="#6c757d" stroke-width="1.5" filter="url(#shadow)"/>
  <text x="410" y="50" text-anchor="middle" font-size="15" font-weight="600" fill="#333">Claude Code — MCP Client</text>

  <!-- Arrow: Client → Tool Search -->
  <line x1="410" y1="68" x2="410" y2="95" stroke="#6c757d" stroke-width="1.5" marker-end="url(#arrowhead)"/>
  <text x="430" y="86" font-size="10" fill="#868e96">stdio</text>

  <!-- ===== TOOL SEARCH ===== -->
  <rect x="190" y="97" width="440" height="44" rx="8" fill="#e8f4f8" stroke="#0984e3" stroke-width="1.5" filter="url(#shadow)"/>
  <text x="410" y="117" text-anchor="middle" font-size="13" font-weight="600" fill="#0984e3">Tool Search</text>
  <text x="410" y="133" text-anchor="middle" font-size="10" fill="#636e72">BM25 + Regex — 85% token reduction via deferred loading</text>

  <!-- Arrow: Tool Search → Trinity -->
  <line x1="410" y1="141" x2="410" y2="168" stroke="#6c757d" stroke-width="1.5" marker-end="url(#arrowhead)"/>

  <!-- ===== TRINITY PIPELINE CONTAINER ===== -->
  <rect x="30" y="170" width="760" height="820" rx="12" fill="#fafafa" stroke="#dee2e6" stroke-width="1" stroke-dasharray="6,3"/>
  <text x="50" y="192" font-size="12" font-weight="700" fill="#868e96" letter-spacing="1">TRINITY PIPELINE</text>
  <text x="202" y="192" font-size="10" fill="#adb5bd">in-process · zero HTTP</text>

  <!-- === Layer 1: RUACH (Gateway) === -->
  <rect x="130" y="205" width="380" height="44" rx="8" fill="#4a90d9" filter="url(#shadow)"/>
  <text x="320" y="225" text-anchor="middle" font-size="14" font-weight="700" fill="#fff">RUACH</text>
  <text x="320" y="241" text-anchor="middle" font-size="10" fill="rgba(255,255,255,0.85)">Gateway — Auth · Rate Limit · Complexity Scoring (0-100)</text>

  <!-- Direct Execution box to the right of RUACH -->
  <rect x="530" y="205" width="225" height="44" rx="8" fill="#f8f9fa" stroke="#4a90d9" stroke-width="1.5" filter="url(#shadow)"/>
  <text x="642" y="222" text-anchor="middle" font-size="10" font-weight="600" fill="#4a90d9">Direct Execution</text>
  <text x="642" y="236" text-anchor="middle" font-size="8" fill="#636e72">speak · read_file</text>
  <text x="642" y="247" text-anchor="middle" font-size="8" fill="#636e72">write_file · list_directory</text>

  <!-- Arrow: RUACH → Direct Execution -->
  <line x1="510" y1="227" x2="528" y2="227" stroke="#4a90d9" stroke-width="1.5" marker-end="url(#arrowhead)"/>

  <!-- Loopback arrow: Direct Execution bypasses Trinity → straight to Response -->
  <path d="M 755,220 C 768,220 772,210 772,195 L 772,155 C 772,140 768,130 750,130" fill="none" stroke="#4a90d9" stroke-width="1.5" stroke-dasharray="5,3" marker-end="url(#arrowhead)"/>
  <text x="757" y="175" font-size="7" fill="#4a90d9" writing-mode="tb">bypass</text>

  <!-- Arrow: RUACH → IESOUS -->
  <line x1="320" y1="249" x2="320" y2="265" stroke="#6c757d" stroke-width="1.5"/>
  <line x1="320" y1="265" x2="410" y2="272" stroke="#6c757d" stroke-width="1.5" marker-end="url(#arrowhead)"/>

  <!-- === Layer 2: IESOUS (Orchestrator) === -->
  <rect x="190" y="274" width="440" height="44" rx="8" fill="#d4a034" filter="url(#shadow)"/>
  <text x="410" y="294" text-anchor="middle" font-size="14" font-weight="700" fill="#fff">IESOUS</text>
  <text x="410" y="310" text-anchor="middle" font-size="10" fill="rgba(255,255,255,0.85)">Orchestrator — Hero Selection · DAG Parallel Execution (max 5)</text>

  <!-- Arrows: IESOUS → 4 Archangel domains -->
  <line x1="235" y1="318" x2="151" y2="348" stroke="#d63031" stroke-width="1.5" marker-end="url(#arrowhead)"/>
  <line x1="340" y1="318" x2="319" y2="348" stroke="#00b894" stroke-width="1.5" marker-end="url(#arrowhead)"/>
  <line x1="480" y1="318" x2="501" y2="348" stroke="#0984e3" stroke-width="1.5" marker-end="url(#arrowhead)"/>
  <line x1="585" y1="318" x2="669" y2="348" stroke="#e17055" stroke-width="1.5" marker-end="url(#arrowhead)"/>

  <!-- ===== ARCHANGEL DOMAINS + HEROES ===== -->
  <rect x="55" y="345" width="710" height="310" rx="10" fill="#ffffff" stroke="#dee2e6" stroke-width="1" filter="url(#shadow)"/>
  <text x="75" y="367" font-size="11" font-weight="600" fill="#636e72">ARCHANGEL DOMAINS — 4 Archangels, 10 Heroes, 24 Tools</text>

  <!-- === MICHAEL Column === -->
  <rect x="70" y="378" width="155" height="40" rx="6" fill="#d63031"/>
  <text x="147" y="396" text-anchor="middle" font-size="12" font-weight="700" fill="#fff">MICHAEL</text>
  <text x="147" y="411" text-anchor="middle" font-size="8" fill="rgba(255,255,255,0.8)">Security &amp; Deployment</text>
  <!-- Michael's Heroes -->
  <line x1="147" y1="418" x2="147" y2="432" stroke="#d63031" stroke-width="1" stroke-dasharray="3,2"/>
  <rect x="70" y="432" width="155" height="30" rx="4" fill="#2d3436"/>
  <text x="147" y="451" text-anchor="middle" font-size="9" font-weight="600" fill="#fff">ELIJAH</text>
  <text x="147" y="460" text-anchor="middle" font-size="7" fill="rgba(255,255,255,0.7)">Security Compliance</text>
  <rect x="70" y="468" width="155" height="30" rx="4" fill="#2d3436"/>
  <text x="147" y="487" text-anchor="middle" font-size="9" font-weight="600" fill="#fff">ELISHA</text>
  <text x="147" y="496" text-anchor="middle" font-size="7" fill="rgba(255,255,255,0.7)">Red Team &amp; Pentesting</text>
  <rect x="70" y="504" width="155" height="30" rx="4" fill="#2d3436"/>
  <text x="147" y="523" text-anchor="middle" font-size="9" font-weight="600" fill="#fff">JOSHUA</text>
  <text x="147" y="532" text-anchor="middle" font-size="7" fill="rgba(255,255,255,0.7)">Risk Management</text>
  <!-- Michael tool tags -->
  <text x="147" y="552" text-anchor="middle" font-size="7" fill="#868e96">guard · deploy · rollback</text>
  <text x="147" y="562" text-anchor="middle" font-size="7" fill="#868e96">container · secrets</text>

  <!-- === URIEL Column === -->
  <rect x="240" y="378" width="155" height="40" rx="6" fill="#00b894"/>
  <text x="317" y="396" text-anchor="middle" font-size="12" font-weight="700" fill="#fff">URIEL</text>
  <text x="317" y="411" text-anchor="middle" font-size="8" fill="rgba(255,255,255,0.8)">Code &amp; Architecture</text>
  <!-- Uriel's Heroes -->
  <line x1="317" y1="418" x2="317" y2="432" stroke="#00b894" stroke-width="1" stroke-dasharray="3,2"/>
  <rect x="240" y="432" width="155" height="30" rx="4" fill="#2d3436"/>
  <text x="317" y="451" text-anchor="middle" font-size="9" font-weight="600" fill="#fff">DAVID</text>
  <text x="317" y="460" text-anchor="middle" font-size="7" fill="rgba(255,255,255,0.7)">Code Generation</text>
  <rect x="240" y="468" width="155" height="30" rx="4" fill="#2d3436"/>
  <text x="317" y="487" text-anchor="middle" font-size="9" font-weight="600" fill="#fff">EZEKIEL</text>
  <text x="317" y="496" text-anchor="middle" font-size="7" fill="rgba(255,255,255,0.7)">Architecture Design</text>
  <rect x="240" y="504" width="155" height="30" rx="4" fill="#2d3436"/>
  <text x="317" y="523" text-anchor="middle" font-size="9" font-weight="600" fill="#fff">PAUL</text>
  <text x="317" y="532" text-anchor="middle" font-size="7" fill="rgba(255,255,255,0.7)">Code Review &amp; Tests</text>
  <rect x="240" y="540" width="155" height="30" rx="4" fill="#2d3436"/>
  <text x="317" y="559" text-anchor="middle" font-size="9" font-weight="600" fill="#fff">SOLOMON</text>
  <text x="317" y="568" text-anchor="middle" font-size="7" fill="rgba(255,255,255,0.7)">Knowledge Search</text>
  <!-- Uriel tool tags -->
  <text x="317" y="586" text-anchor="middle" font-size="7" fill="#868e96">sniff · code_review · search</text>
  <text x="317" y="596" text-anchor="middle" font-size="7" fill="#868e96">generate · symbol · outline · refs</text>

  <!-- === GABRIEL Column === -->
  <rect x="410" y="378" width="155" height="40" rx="6" fill="#0984e3"/>
  <text x="487" y="396" text-anchor="middle" font-size="12" font-weight="700" fill="#fff">GABRIEL</text>
  <text x="487" y="411" text-anchor="middle" font-size="8" fill="rgba(255,255,255,0.8)">Knowledge &amp; Strategy</text>
  <!-- Gabriel's Heroes -->
  <line x1="487" y1="418" x2="487" y2="432" stroke="#0984e3" stroke-width="1" stroke-dasharray="3,2"/>
  <rect x="410" y="432" width="155" height="30" rx="4" fill="#2d3436"/>
  <text x="487" y="451" text-anchor="middle" font-size="9" font-weight="600" fill="#fff">MELCHIZEDEK</text>
  <text x="487" y="460" text-anchor="middle" font-size="7" fill="rgba(255,255,255,0.7)">Research</text>
  <rect x="410" y="468" width="155" height="30" rx="4" fill="#2d3436"/>
  <text x="487" y="487" text-anchor="middle" font-size="9" font-weight="600" fill="#fff">DANIEL</text>
  <text x="487" y="496" text-anchor="middle" font-size="7" fill="rgba(255,255,255,0.7)">Performance Analysis</text>
  <!-- Gabriel tool tags -->
  <text x="487" y="522" text-anchor="middle" font-size="7" fill="#868e96">fetch · scout · docs · arch</text>

  <!-- === RAPHAEL Column === -->
  <rect x="580" y="378" width="155" height="40" rx="6" fill="#e17055"/>
  <text x="657" y="396" text-anchor="middle" font-size="12" font-weight="700" fill="#fff">RAPHAEL</text>
  <text x="657" y="411" text-anchor="middle" font-size="8" fill="rgba(255,255,255,0.8)">Infrastructure &amp; Ops</text>
  <!-- Raphael's Heroes -->
  <line x1="657" y1="418" x2="657" y2="432" stroke="#e17055" stroke-width="1" stroke-dasharray="3,2"/>
  <rect x="580" y="432" width="155" height="30" rx="4" fill="#2d3436"/>
  <text x="657" y="451" text-anchor="middle" font-size="9" font-weight="600" fill="#fff">MOSES</text>
  <text x="657" y="460" text-anchor="middle" font-size="7" fill="rgba(255,255,255,0.7)">Deployment</text>
  <!-- Raphael tool tags -->
  <text x="657" y="486" text-anchor="middle" font-size="7" fill="#868e96">chase · health · scale · logs</text>

  <!-- Complexity box -->
  <rect x="70" y="612" width="665" height="32" rx="6" fill="#2d3436"/>
  <text x="402" y="632" text-anchor="middle" font-size="10" font-weight="600" fill="#fff">Complexity-Driven Fan-Out: Simple (0-30) · Medium (31-60) · Complex (61-100)</text>

  <!-- Arrow: Domains → AI Providers -->
  <line x1="410" y1="655" x2="410" y2="678" stroke="#6c757d" stroke-width="1.5" marker-end="url(#arrowhead)"/>

  <!-- === Multi-Provider AI Routing === -->
  <rect x="55" y="680" width="710" height="95" rx="10" fill="#ffffff" stroke="#dee2e6" stroke-width="1" filter="url(#shadow)"/>
  <text x="75" y="700" font-size="11" font-weight="600" fill="#636e72">MULTI-PROVIDER AI ROUTING — Automatic Failover + Circuit Breakers</text>

  <!-- Provider boxes -->
  <rect x="75" y="712" width="120" height="46" rx="6" fill="#6c5ce7"/>
  <text x="135" y="732" text-anchor="middle" font-size="11" font-weight="600" fill="#fff">Anthropic</text>
  <text x="135" y="748" text-anchor="middle" font-size="9" fill="rgba(255,255,255,0.8)">Primary</text>

  <rect x="211" y="712" width="120" height="46" rx="6" fill="#6c5ce7"/>
  <text x="271" y="732" text-anchor="middle" font-size="11" font-weight="600" fill="#fff">Mistral</text>
  <text x="271" y="748" text-anchor="middle" font-size="9" fill="rgba(255,255,255,0.8)">Tier 2</text>

  <rect x="347" y="712" width="120" height="46" rx="6" fill="#6c5ce7"/>
  <text x="407" y="732" text-anchor="middle" font-size="11" font-weight="600" fill="#fff">Cerebras</text>
  <text x="407" y="748" text-anchor="middle" font-size="9" fill="rgba(255,255,255,0.8)">Tier 2</text>

  <rect x="483" y="712" width="120" height="46" rx="6" fill="#6c5ce7"/>
  <text x="543" y="732" text-anchor="middle" font-size="11" font-weight="600" fill="#fff">Perplexity</text>
  <text x="543" y="748" text-anchor="middle" font-size="9" fill="rgba(255,255,255,0.8)">Research</text>

  <rect x="619" y="712" width="120" height="46" rx="6" fill="#6c5ce7"/>
  <text x="679" y="732" text-anchor="middle" font-size="11" font-weight="600" fill="#fff">Ollama</text>
  <text x="679" y="748" text-anchor="middle" font-size="9" fill="rgba(255,255,255,0.8)">Local</text>

  <!-- Failover arrows between providers -->
  <line x1="195" y1="735" x2="211" y2="735" stroke="#adb5bd" stroke-width="1" stroke-dasharray="3,2"/>
  <line x1="331" y1="735" x2="347" y2="735" stroke="#adb5bd" stroke-width="1" stroke-dasharray="3,2"/>
  <line x1="467" y1="735" x2="483" y2="735" stroke="#adb5bd" stroke-width="1" stroke-dasharray="3,2"/>
  <line x1="603" y1="735" x2="619" y2="735" stroke="#adb5bd" stroke-width="1" stroke-dasharray="3,2"/>

  <!-- Arrow: AI Providers → ADONAI -->
  <line x1="410" y1="775" x2="410" y2="800" stroke="#6c757d" stroke-width="1.5" marker-end="url(#arrowhead)"/>

  <!-- === Layer 3: ADONAI (Validator) === -->
  <rect x="190" y="802" width="440" height="44" rx="8" fill="#50b87a" filter="url(#shadow)"/>
  <text x="410" y="822" text-anchor="middle" font-size="14" font-weight="700" fill="#fff">ADONAI</text>
  <text x="410" y="838" text-anchor="middle" font-size="10" fill="rgba(255,255,255,0.85)">Validator — CORSO Protocol (49 Rules, 7 Pillars) · Fail-Secure</text>

  <!-- Arrow: ADONAI → HITL -->
  <line x1="410" y1="846" x2="410" y2="876" stroke="#6c757d" stroke-width="1.5" marker-end="url(#arrowhead)"/>

  <!-- === HITL Gate === -->
  <g transform="translate(410, 900)">
    <polygon points="0,-22 70,0 0,22 -70,0" fill="#d63031" stroke="#b52828" stroke-width="1.5" filter="url(#shadow)"/>
    <text x="0" y="-4" text-anchor="middle" font-size="10" font-weight="700" fill="#fff">HITL</text>
    <text x="0" y="9" text-anchor="middle" font-size="8" fill="rgba(255,255,255,0.85)">Approval Gate</text>
  </g>

  <!-- Arrow: HITL → Response -->
  <line x1="410" y1="922" x2="410" y2="952" stroke="#6c757d" stroke-width="1.5" marker-end="url(#arrowhead)"/>

  <!-- ===== RESPONSE ===== -->
  <rect x="220" y="955" width="380" height="48" rx="8" fill="#f8f9fa" stroke="#6c757d" stroke-width="1.5" filter="url(#shadow)"/>
  <text x="410" y="985" text-anchor="middle" font-size="15" font-weight="600" fill="#333">Response → Claude Code</text>

  <!-- === Side labels === -->
  <text x="14" y="530" font-size="10" fill="#adb5bd" transform="rotate(-90, 14, 530)" text-anchor="middle" letter-spacing="2">IN-PROCESS</text>
  <text x="800" y="530" font-size="10" fill="#adb5bd" transform="rotate(90, 800, 530)" text-anchor="middle" letter-spacing="2">ZERO HTTP</text>
</svg>